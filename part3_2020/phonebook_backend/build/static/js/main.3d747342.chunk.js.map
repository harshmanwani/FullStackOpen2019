{"version":3,"sources":["components/PersonForm.js","components/DeleteButton.js","components/Persons.js","components/Filter.js","services/backend.js","components/Notification.js","App.js","index.js"],"names":["PersonForm","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","onChange","type","DeleteButton","person","handleDeleteButton","onClick","Persons","filter","persons","name","slice","length","toLowerCase","map","key","number","Filter","handleFilterChange","baseUrl","axios","get","then","response","data","personObject","post","id","put","delete","Notification","message","state","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","setPersons","setNewName","setNewNumber","setFilter","setMessage","messageState","setMessageState","useEffect","Services","savedPersons","event","target","preventDefault","setTimeout","nameObject","window","confirm","find","catch","error","ReactDOM","render","document","getElementById"],"mappings":"8LA0BeA,EAxBI,SAAC,GAAqE,IAApEC,EAAmE,EAAnEA,QAAQC,EAA2D,EAA3DA,QAAQC,EAAmD,EAAnDA,iBAAiBC,EAAkC,EAAlCA,UAAUC,EAAwB,EAAxBA,mBAC5D,OACE,oCACE,0BAAMC,SAAUL,GACd,sCACQ,2BACNM,MAAOL,EACPM,SAAUL,KAGZ,wCACU,2BACRI,MAAOH,EACPI,SAAUH,KAGZ,6BACE,4BAAQI,KAAK,UAAb,WCTGC,EARM,SAAC,GAAkC,IAAjCC,EAAgC,EAAhCA,OAAQC,EAAwB,EAAxBA,mBAC3B,OACI,oCACA,4BAAQC,QAAS,kBAAMD,EAAmBD,KAA1C,YCQOG,EAVC,SAAC,GAAyC,IAAxCC,EAAuC,EAAvCA,OAAOC,EAAgC,EAAhCA,QAAQJ,EAAwB,EAAxBA,mBAC7B,OACE,oCACA,4BACGI,EAAQD,QAAO,SAAAJ,GAAM,OAAIA,EAAOM,KAAKC,MAAM,EAAEH,EAAOI,QAAQC,gBAAkBL,EAAOK,iBAAeC,KAAI,SAAAV,GAAM,OAAI,wBAAIW,IAAKX,EAAOM,MAAON,EAAOM,KAA9B,IAAqCN,EAAOY,OAA5C,IAAoD,kBAAC,EAAD,CAAcZ,OAAQA,EAAQC,mBAAoBA,WCQlNY,EAbA,SAAC,GAAiC,IAAhCT,EAA+B,EAA/BA,OAAOU,EAAwB,EAAxBA,mBACpB,OACE,oCACA,kDACoB,2BAClBlB,MAAOQ,EACPP,SAAUiB,O,gBCPZC,EAAU,eAsBD,EApBA,WAEX,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB9B,EAfA,SAAAC,GAEX,OADgBL,IAAMM,KAAKP,EAAQM,GACpBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa9B,EAVA,SAACG,EAAIF,GAEhB,OADgBL,IAAMQ,IAAN,UAAaT,EAAb,YAAwBQ,GAAKF,GAC9BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ9B,EALC,SAAAG,GAEZ,OADgBP,IAAMS,OAAN,UAAgBV,EAAhB,YAA2BQ,IAC5BL,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCa9BM,EA/BM,SAAC,GAAsB,IAArBC,EAAoB,EAApBA,QAASC,EAAW,EAAXA,MAmB5B,OAAe,OAAZD,EACQ,KAIH,oCACI,yBAAKE,MAAkB,MAAVD,EAfT,CACZE,MAAO,QACPC,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,IAhBJ,CACVN,MAAO,MACPC,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,KAiB0CT,KC2HjDU,EA7IH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACTjC,EADS,KACAkC,EADA,OAEgBD,mBAAS,IAFzB,mBAER/C,EAFQ,KAECiD,EAFD,OAGoBF,mBAAS,IAH7B,mBAGR7C,EAHQ,KAGGgD,EAHH,OAIcH,mBAAS,IAJvB,mBAIRlC,EAJQ,KAIAsC,EAJA,OAKcJ,mBAAS,MALvB,mBAKTX,EALS,KAKAgB,EALA,OAMwBL,mBAAS,MANjC,mBAMTM,EANS,KAMKC,EANL,KAgIhB,OALAC,qBAAU,WACVC,IAEC7B,MAAK,SAAA8B,GAAY,OAAIT,EAAWS,QAC9B,IAED,6BACE,kBAAC,EAAD,CAAcrB,QAASA,EAASC,MAAOgB,IACvC,yCACA,kBAAC,EAAD,CAAQxC,OAAQA,EAAQU,mBApHD,SAACmC,GAC1BP,EAAUO,EAAMC,OAAOtD,UAoHrB,yCACA,kBAAC,EAAD,CAAYN,QAjFA,SAAC2D,GAEf,GADAA,EAAME,kBACD5D,EAOH,OANAoD,EAAW,0BACXE,EAAgB,UAChBO,YAAW,WACTT,EAAW,MACXE,EAAgB,QAChB,KAGJ,IAAKpD,EAOH,OANAkD,EAAW,4BACXE,EAAgB,UAChBO,YAAW,WACTT,EAAW,MACXE,EAAgB,QAChB,KAGJ,IAAMQ,EAAa,CACjB/C,KAAMf,EACNqB,OAAQnB,GAELY,EAAQD,QAAO,SAAAJ,GAAM,OAAIA,EAAOM,OAASf,KAASiB,OAuBlD8C,OAAOC,QAAP,UAAkBhE,EAAlB,4EACDwD,EACQ1C,EAAQmD,MAAK,SAAAxD,GAAM,OAAIA,EAAOM,OAASf,KAASgC,GAAG8B,GAC1DnC,MAAK,SAAAC,GACJ4B,IAEC7B,MAAK,SAAAC,GACJoB,EAAWpB,GACXqB,EAAW,IACXC,EAAa,IACbE,EAAW,uBAAD,OAAwBU,EAAW/C,OAC7CuC,EAAgB,KAChBO,YAAW,WACTT,EAAW,MACXE,EAAgB,QACf,WArCTE,EACQM,GACPnC,MAAK,SAAAC,GACJ4B,IAEC7B,MAAK,SAAAC,GACJoB,EAAWpB,MAEbqB,EAAW,IACXC,EAAa,IACbE,EAAW,SAAD,OAAUU,EAAW/C,OAC/BuC,EAAgB,KAChBO,YAAW,WACTT,EAAW,MACXE,EAAgB,QACf,QAGJY,OAAM,SAAAC,GACLf,EAAWe,OAqCiBnE,QAASA,EAASC,iBA9H3B,SAACyD,GACxBT,EAAWS,EAAMC,OAAOtD,QA6H8DH,UAAWA,EAAWC,mBA1HnF,SAACuD,GAC1BR,EAAaQ,EAAMC,OAAOtD,UA0HxB,uCACA,kBAAC,EAAD,CAASQ,OAAQA,EAAQC,QAASA,EAASJ,mBApHpB,SAACD,GACtBsD,OAAOC,QAAP,wBAAgCvD,EAAOM,KAAvC,2BACFyC,EACS/C,EAAOuB,IACfL,MAAK,WACF6B,IAEC7B,MAAK,SAAAC,GACFoB,EAAWpB,MAEfwB,EAAW,WAAD,OAAY3C,EAAOM,OAC7BuC,EAAgB,KAChBO,YAAW,WACTT,EAAW,MACXE,EAAgB,QACf,QAENY,OAAM,SAAAC,GACLX,IAEG7B,MAAK,SAAAC,GACNoB,EAAWpB,MAEbwB,EAAW,kBAAD,OAAmB3C,EAAOM,KAA1B,0CACVuC,EAAgB,KAChBO,YAAW,WACTT,EAAW,MACXE,EAAgB,QACf,aCrDXc,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.3d747342.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst PersonForm = ({addName,newName,handleNameChange,newNumber,handleNumberChange}) => {\r\n    return(\r\n      <>\r\n        <form onSubmit={addName}>\r\n          <div>\r\n            name: <input \r\n            value={newName}\r\n            onChange={handleNameChange}\r\n            />\r\n          </div>\r\n          <div>\r\n            number: <input\r\n            value={newNumber}\r\n            onChange={handleNumberChange}\r\n            />\r\n          </div>\r\n          <div>\r\n            <button type=\"submit\">add</button>\r\n          </div>\r\n        </form>\r\n      </>\r\n    )\r\n  }\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst DeleteButton = ({person, handleDeleteButton}) => {\r\n    return(\r\n        <>\r\n        <button onClick={() => handleDeleteButton(person)}>delete</button>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default DeleteButton","import React from 'react'\r\nimport DeleteButton from './DeleteButton'\r\n\r\nconst Persons = ({filter,persons,handleDeleteButton}) => {\r\n    return(\r\n      <>\r\n      <ul>\r\n        {persons.filter(person => person.name.slice(0,filter.length).toLowerCase() === filter.toLowerCase()).map(person => <li key={person.name}>{person.name} {person.number} <DeleteButton person={person} handleDeleteButton={handleDeleteButton}/></li>)}\r\n      </ul>\r\n      </>\r\n    )\r\n  }\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Filter = ({filter,handleFilterChange}) => {\r\n    return(\r\n      <>\r\n      <div>\r\n        filter shown with <input \r\n        value={filter}\r\n        onChange={handleFilterChange}\r\n        />\r\n      </div>\r\n      </>\r\n    )\r\n  }\r\n\r\nexport default Filter","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = personObject => {\r\n    const request = axios.post(baseUrl,personObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, personObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`,personObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst destroy = id => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nexport default {getAll, create, update, destroy}","import React from 'react'\r\n\r\nconst Notification = ({message, state}) => {\r\n    const error = {\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n    const success = {\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n    if(message === null) {\r\n        return null\r\n    }\r\n    else {\r\n        return(\r\n            <>\r\n                <div style={(state === 's' ? success : error)}>{message}</div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport PersonForm from './components/PersonForm'\r\nimport Persons from './components/Persons'\r\nimport Filter from './components/Filter'\r\nimport Services from './services/backend'\r\nimport Notification from './components/Notification'\r\n\r\n\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ filter, setFilter ] = useState('')\r\n  const [message, setMessage] = useState(null)\r\n  const [messageState, setMessageState] = useState(null)\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilterChange = (event) => {\r\n    setFilter(event.target.value)\r\n  }\r\n\r\n  const handleDeleteButton = (person) => {\r\n    if (window.confirm(`Really delete ${person.name} from the phone book?`)) {\r\n      Services\r\n      .destroy(person.id)\r\n      .then(() => {\r\n          Services\r\n          .getAll()\r\n          .then(response => {\r\n              setPersons(response)\r\n          })\r\n          setMessage(`Deleted ${person.name}`)\r\n          setMessageState('s')\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n            setMessageState(null)\r\n          }, 3000)\r\n      })\r\n      .catch(error => {\r\n        Services\r\n          .getAll()\r\n          .then(response => {\r\n          setPersons(response)\r\n        })\r\n        setMessage(`Information of ${person.name} has already been removed from server`)\r\n        setMessageState('e')\r\n        setTimeout(() => {\r\n          setMessage(null)\r\n          setMessageState(null)\r\n        }, 3000)\r\n      })\r\n    }\r\n  }\r\n\r\n  const addName = (event) => {\r\n    event.preventDefault()\r\n    if (!newName) {\r\n      setMessage(`Please specify a name.`)\r\n      setMessageState('e')\r\n      setTimeout(() => {\r\n        setMessage(null)\r\n        setMessageState(null)\r\n      },3000)\r\n      return\r\n    }\r\n    if (!newNumber) {\r\n      setMessage(`Please specify a number.`)\r\n      setMessageState('e')\r\n      setTimeout(() => {\r\n        setMessage(null)\r\n        setMessageState(null)\r\n      },3000)\r\n      return\r\n    }\r\n    const nameObject = {\r\n      name: newName,\r\n      number: newNumber\r\n    }\r\n    if (!persons.filter(person => person.name === newName).length) {\r\n      Services\r\n      .create(nameObject)\r\n      .then(response => {\r\n        Services\r\n        .getAll()\r\n        .then(response => {\r\n          setPersons(response)\r\n        })\r\n        setNewName('')\r\n        setNewNumber('')\r\n        setMessage(`Added ${nameObject.name}`)\r\n        setMessageState('s')\r\n        setTimeout(() => {\r\n          setMessage(null)\r\n          setMessageState(null)\r\n        }, 3000)\r\n      }\r\n      )\r\n      .catch(error => {\r\n        setMessage(error)\r\n      })\r\n    } else {\r\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\r\n        Services\r\n        .update(persons.find(person => person.name === newName).id,nameObject)\r\n        .then(response => {\r\n          Services\r\n          .getAll()\r\n          .then(response => {\r\n            setPersons(response)\r\n            setNewName('')\r\n            setNewNumber('')\r\n            setMessage(`Altered number from ${nameObject.name}`)\r\n            setMessageState('s')\r\n            setTimeout(() => {\r\n              setMessage(null)\r\n              setMessageState(null)\r\n            }, 3000)\r\n          })\r\n        })\r\n      }\r\n    }\r\n    \r\n  }\r\n\r\n  useEffect(() => {\r\n  Services\r\n  .getAll()\r\n  .then(savedPersons => setPersons(savedPersons))\r\n  }, [])\r\n  return (\r\n    <div>\r\n      <Notification message={message} state={messageState}/>\r\n      <h2>Phonebook</h2>\r\n      <Filter filter={filter} handleFilterChange={handleFilterChange}/>\r\n      <h3>Add a new</h3>\r\n      <PersonForm addName={addName} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange}/>\r\n      <h2>Numbers</h2>\r\n      <Persons filter={filter} persons={persons} handleDeleteButton={handleDeleteButton}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App/>,\n  document.getElementById('root')\n)"],"sourceRoot":""}